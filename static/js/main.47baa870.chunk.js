(this["webpackJsonpreact-query"]=this["webpackJsonpreact-query"]||[]).push([[0],{42:function(e,t,n){},43:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(20),c=n.n(s),i=n(14),o=(n(42),n(43),n(58)),l=n(2);var u=function(e){var t=e.page,n=Object(a.useState)("planets"),r=Object(i.a)(n,2),s=r[0],c=r[1];return Object(l.jsxs)(o.a,{variant:"pills",className:"border-0 pb-2",activeKey:s,onSelect:function(e){return c(e)},children:[Object(l.jsx)(o.a.Item,{children:Object(l.jsx)(o.a.Link,{className:"rounded-pill",eventKey:"planets",onClick:function(){return t("planets")},children:"Planets"})}),Object(l.jsx)(o.a.Item,{children:Object(l.jsx)(o.a.Link,{className:"rounded-pill",eventKey:"people",onClick:function(){return t("people")},children:"People"})}),Object(l.jsx)(o.a.Item,{children:Object(l.jsx)(o.a.Link,{className:"rounded-pill",eventKey:"invalid",onClick:function(){return t("invalid")},children:"Fake url"})}),Object(l.jsx)(o.a.Item,{children:Object(l.jsx)(o.a.Link,{className:"rounded-pill",eventKey:"update",onClick:function(){return t("update")},children:"Update method"})})]})},d=n(13),j=n.n(d),p=n(22);function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return new Promise((function(a,r){setTimeout((function(){fetch(e,n).then(a,r)}),1e3*t)}))}var v=function(){var e=Object(p.a)(j.a.mark((function e(){var t,n,a=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1,console.log("id",t),e.next=4,b("https://jsonplaceholder.typicode.com/posts/".concat(t),1,{method:"PUT",body:{id:t}});case 4:return n=e.sent,e.abrupt("return",n.json());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(p.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("http://guuuuugle.com",0);case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(p.a)(j.a.mark((function e(t){var n,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.queryKey,a=n[2],e.next=4,b("https://swapi.dev/api/people/".concat(a?"?page=".concat(n[2]):""),1);case 4:return r=e.sent,e.abrupt("return",r.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x={getPlanets:function(){var e=Object(p.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("https://swapi.dev/api/planets/",1);case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getFake:h,getPeople:m,putId:v},O=n(61),f=n(57);var g=function(e){var t=e.type,n=e.msg,r=Object(a.useState)(!0),s=Object(i.a)(r,2),c=s[0],o=s[1];return c&&Object(l.jsx)("div",{"aria-live":"polite","aria-atomic":"true",style:{position:"absolute",display:"flex",justifyContent:"center",top:"0",left:"0",margin:"10px 0",minHeight:"200px",width:"100vw"},children:Object(l.jsx)("div",{style:{position:"relative",minWidth:"300px"},children:Object(l.jsxs)(f.a,{onClose:function(){return o(!1)},show:c,transition:!1,delay:2e3,autohide:!0,className:"text-dark border-0",children:[Object(l.jsxs)(f.a.Header,{className:"bg-".concat(t," text-white"),children:[Object(l.jsx)("img",{src:"holder.js/20x20?text=%20",className:"rounded mr-2",alt:""}),Object(l.jsx)("strong",{className:"mr-auto",children:t})]}),Object(l.jsx)(f.a.Body,{children:Object(l.jsx)("strong",{children:n})})]})})})};var y=function(e,t){var n=t.status,a=t.type,r=t.msg;return"error"===n?Object(l.jsx)(g,{type:a,msg:r}):e},k=n(53);var w=function(e,t){var n=t.status,a="button"===t.type?"spinner-border-sm ml-1":"spinner-border d-block m-2";return"loading"===n?Object(l.jsx)(k.a,{className:"".concat(a),as:"span",animation:"border"}):e},N=n(62);var P=function(e){var t=e.title,n=e.data;return Object(l.jsxs)(N.a,{className:"my-2 text-dark border-0",bg:"info",children:[Object(l.jsx)(N.a.Header,{as:"h6",className:"text-white",children:t}),Object(l.jsx)(N.a.Body,{className:"bg-white",children:n.map((function(e,t){return Object(l.jsxs)("p",{children:[e.name," - ",e.value]},t)}))})]})},S={retry:1,onSuccess:function(){return console.log("Success!")},keepPreviousData:!0};var F=function(){var e=Object(O.a)("fetchPlanets",x.getPlanets,S),t=e.data,n=e.status;return y(w(null===t||void 0===t?void 0:t.results.map((function(e,t){return Object(l.jsx)(P,{title:e.name,data:[{name:"population",value:e.population},{name:"climate",value:e.climate}]},t)})),{status:n}),{status:n,type:"danger",msg:"Fetching error."})},I=n(33),C=n(63);var B=function(){var e,t=Object(a.useState)(1),n=Object(i.a)(t,2),r=n[0],s=n[1],c=Object(O.a)(["fetchPeople","hello from people",r],x.getPeople,Object(I.a)(Object(I.a)({},S),{},{onSuccess:function(){return console.log("Success on People component")}})),o=c.data,u=c.status,d=c.isPreviousData,j=function(e){s("prev"===e?function(e){return Math.max(e-1,1)}:function(e){return e+1})};return console.log("isPreviousData",d),console.log("!Boolean(data?.next)",!Boolean(null===o||void 0===o?void 0:o.next)),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(C.a,{children:[Object(l.jsx)(C.a.Prev,{disabled:d||!Boolean(null===o||void 0===o?void 0:o.previous),onClick:function(){return j("prev")}}),Object(l.jsx)(C.a.Item,{children:r}),Object(l.jsx)(C.a.Next,{disabled:d||!Boolean(null===o||void 0===o?void 0:o.next),onClick:function(){return j("next")}})]}),y(w(null===o||void 0===o||null===(e=o.results)||void 0===e?void 0:e.map((function(e,t){return Object(l.jsx)(P,{title:e.name,data:[{name:"eye color",value:e.eye_color},{name:"mass",value:e.mass},{name:"birth year",value:e.birth_year}]},t)})),{status:d?"loading":u}),{status:u,type:"danger",msg:"Fetching error."})]})},L=n(56),K=n(60),D=n(26);var q=function(){var e=Object(O.a)("fetchFake",x.getFake,S).status;return y(w(Object(l.jsx)(l.Fragment,{children:"Fake url"}),{status:e}),{status:e,type:"danger",msg:"Fetching error."})},H=n(37),M=n(59),U=n(54),E=n(55),J=n(64);var R=function(){var e=Object(J.a)(x.putId),t=e.mutate,n=e.data,r=e.isLoading,s=Object(a.useRef)();return console.log(n),console.log(r),Object(l.jsxs)("div",{children:[Object(l.jsxs)(M.a,{onSubmit:function(e){e.preventDefault(e),t(Math.max(Number(s.current.value),1))},children:[Object(l.jsxs)(M.a.Group,{controlId:"formBasicEmail",children:[Object(l.jsxs)(M.a.Label,{children:["New Id",Object(l.jsxs)(U.a,{variant:"primary",children:["Actual id from api:",Object(l.jsx)(E.a,{variant:"light",children:null===n||void 0===n?void 0:n.id})]})]}),w(Object(l.jsx)(M.a.Control,{ref:s,type:"text",placeholder:"New id"}),{status:r&&"loading"})]}),Object(l.jsxs)(U.a,{variant:"primary",type:"submit",disabled:r,children:["Update",w(Object(l.jsx)(l.Fragment,{}),{status:r&&"loading",type:"button"})]})]}),Object(l.jsxs)(U.a,{variant:"primary",disabled:!0,children:[Object(l.jsx)(k.a,{as:"span",animation:"border",size:"sm"}),Object(l.jsx)("span",{className:"sr-only",children:"Loading..."})]})," "]})},T=new K.a;var W=function(){var e=Object(a.useState)("planets"),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(l.jsxs)(D.a,{client:T,children:[Object(l.jsxs)(L.a,{className:"text-light",children:[Object(l.jsx)("h1",{children:"Stars Wars"}),Object(l.jsx)(u,{page:r}),Object(l.jsx)("div",{className:"content position-static",children:function(e){switch(e){case"planets":return Object(l.jsx)(F,{});case"people":return Object(l.jsx)(B,{});case"invalid":return Object(l.jsx)(q,{});case"update":return Object(l.jsx)(R,{})}}(n)})]}),Object(l.jsx)(H.ReactQueryDevtools,{initialIsOpen:!1})]})};n(49);c.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(W,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.47baa870.chunk.js.map